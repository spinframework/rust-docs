<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Composes a Spin AppComponent using the dependencies specified in the component’s dependencies section."><title>compose in spin_compose - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-e56847b5.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="spin_compose" data-themes="" data-resource-suffix="" data-rustdoc-version="1.91.0-nightly (a1208bf76 2025-09-03)" data-channel="nightly" data-search-js="search-272972ce.js" data-stringdex-js="stringdex-0e748618.js" data-settings-js="settings-c38705f0.js" ><script src="../static.files/storage-e2aeef58.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-6dc2a7f3.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">compose</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../spin_compose/index.html">spin_<wbr>compose</a><span class="version">3.5.0-pre0</span></h2></div><div class="sidebar-elems"><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="index.html">spin_compose</a></div><h1>Function <span class="fn">compose</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/spin_compose/lib.rs.html#30-35">Source</a> </span></div><pre class="rust item-decl"><code>pub async fn compose&lt;L: <a class="trait" href="trait.ComponentSourceLoader.html" title="trait spin_compose::ComponentSourceLoader">ComponentSourceLoader</a>&gt;(
    loader: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;L</a>,
    component: &amp;L::<a class="associatedtype" href="trait.ComponentSourceLoader.html#associatedtype.Component" title="type spin_compose::ComponentSourceLoader::Component">Component</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;, <a class="enum" href="enum.ComposeError.html" title="enum spin_compose::ComposeError">ComposeError</a>&gt;</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Composes a Spin AppComponent using the dependencies specified in the
component’s dependencies section.</p>
<p>To compose the dependent component with its dependencies, the composer will
first prepare the dependencies by maximally matching depenedency names to
import names and register dependency components with the composition graph
with the <code>deny-all</code> adapter applied if the set of configurations to inherit
is the empty set. Once this mapping of import names to dependency infos is
constructed the composer will build the instantiation arguments for the
dependent component by ensuring that the export type of the dependency is a
subtype of the import type of the dependent component. If the dependency has
an export name specified, the composer will use that export name to satisfy
the import. If the dependency does not have an export name specified, the
composer will use an export of import name to satisfy the import. The
composer will then alias the export of the dependency to the import of the
dependent component. Finally, the composer will export all exports from the
dependent component to its dependents. The composer will then encode the
composition graph into a byte array and return it.</p>
</div></details></section></div></main></body></html>